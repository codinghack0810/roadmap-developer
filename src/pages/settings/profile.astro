---
import SettingSidebar from '../../components/Setting/SettingSidebar.astro';
import UpdateProfileForm from '../../components/Setting/UpdateProfileForm';
import SettingLayout from '../../layouts/SettingLayout.astro';
---

<SettingLayout title='Update Profile'>
  <SettingSidebar pageUrl='profile' name='Profile'>
    <UpdateProfileForm client:load />
  </SettingSidebar>
</SettingLayout>

<script>
  import Cookies from 'js-cookie';
  import { TOKEN_COOKIE_NAME } from '../../lib/constants';
  const token = Cookies.get(TOKEN_COOKIE_NAME);

  if (!token) {
    window.location.href = '/';
  }
</script>
